# ============================================
# OmniStack Backend - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# ============================================
# CORE SETTINGS
# ============================================
PROJECT_NAME="OmniStack API"
ENVIRONMENT="local"                    # local | staging | production
DEBUG="true"                           # Enable debug mode
LOG_LEVEL="INFO"                       # DEBUG | INFO | WARNING | ERROR

# ============================================
# API SETTINGS
# ============================================
API_V1_STR="/api/v1"
BACKEND_CORS_ORIGINS='["http://localhost:3000","http://localhost:5173"]'
SECRET_KEY="your-super-secret-key-min-32-characters-long"

# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql+asyncpg://postgres:postgres@localhost:5432/omnistack"
# For serverless (Neon, Supabase), add these:
DB_POOL_SIZE="5"                       # Reduce for serverless
DB_POOL_RECYCLE="300"                  # Recycle connections after 5 min
DB_USE_NULL_POOL="false"               # Set "true" for serverless

# ============================================
# REDIS / CACHE
# ============================================
REDIS_URL="redis://localhost:6379/0"
# For Upstash (HTTP mode):
# UPSTASH_REDIS_REST_URL=""
# UPSTASH_REDIS_REST_TOKEN=""

# ============================================
# AUTHENTICATION
# ============================================
AUTH_PROVIDER="supabase"               # supabase | clerk | custom

# Supabase Auth
SUPABASE_PROJECT_URL="https://xxx.supabase.co"
SUPABASE_JWT_SECRET=""                 # Only for legacy HS256

# Clerk Auth
# CLERK_ISSUER_URL="https://xxx.clerk.accounts.dev"
# CLERK_SECRET_KEY=""                  # For backend operations

# Custom OAuth
# OAUTH_JWKS_URL=""
# OAUTH_AUDIENCE=""
# OAUTH_ISSUER=""

# ============================================
# AI PROVIDERS (Phase 7)
# ============================================
AI_DEFAULT_PROVIDER="openai"           # openai | anthropic | gemini
AI_DEFAULT_MODEL="gpt-4o"

# OPENAI_API_KEY=""
# ANTHROPIC_API_KEY=""
# GOOGLE_API_KEY=""                     # For Gemini
# PERPLEXITY_API_KEY=""

# ============================================
# EMAIL (Phase 6)
# ============================================
EMAIL_PROVIDER="console"               # resend | sendgrid | console
EMAIL_FROM_ADDRESS="hello@myapp.com"
EMAIL_FROM_NAME="My SaaS"

# RESEND_API_KEY=""
# SENDGRID_API_KEY=""

# ============================================
# STORAGE (Phase 6)
# ============================================
STORAGE_PROVIDER="local"               # s3 | r2 | cloudinary | local

# AWS S3
# AWS_ACCESS_KEY_ID=""
# AWS_SECRET_ACCESS_KEY=""
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET=""

# Cloudflare R2
# R2_ACCOUNT_ID=""
# R2_ACCESS_KEY_ID=""
# R2_SECRET_ACCESS_KEY=""
# R2_BUCKET=""

# Cloudinary
# CLOUDINARY_CLOUD_NAME=""
# CLOUDINARY_API_KEY=""
# CLOUDINARY_API_SECRET=""

# ============================================
# PAYMENTS (Phase 8)
# ============================================
# Stripe
# STRIPE_SECRET_KEY=""                   # sk_test_... or sk_live_...
# STRIPE_WEBHOOK_SECRET=""               # whsec_... (from Stripe Dashboard)
# STRIPE_PRICE_ID_MONTHLY=""             # price_... for monthly subscription
# STRIPE_PRICE_ID_YEARLY=""              # price_... for yearly subscription

# Apple App Store (In-App Purchases)
# APPLE_BUNDLE_ID=""                     # e.g., "com.example.myapp"
# APPLE_SHARED_SECRET=""                 # App-specific shared secret

# Google Play Store (In-App Purchases)
# GOOGLE_PLAY_PACKAGE_NAME=""            # e.g., "com.example.myapp"
# GOOGLE_PLAY_SERVICE_ACCOUNT_JSON=""    # Base64-encoded service account JSON

# Webhook URLs (for reference, configure in respective dashboards):
# Stripe: https://your-domain.com/api/v1/public/webhooks/stripe
# Clerk:  https://your-domain.com/api/v1/public/webhooks/clerk
# Apple:  https://your-domain.com/api/v1/public/webhooks/apple
# Google: Configure Pub/Sub to push to https://your-domain.com/api/v1/public/webhooks/google

# ============================================
# OBSERVABILITY
# ============================================
# SENTRY_DSN=""
# SENTRY_TRACES_SAMPLE_RATE="0.1"      # 10% of requests traced

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_DEFAULT="60/minute"
RATE_LIMIT_AI="10/minute"
RATE_LIMIT_AUTH="5/minute"

# ============================================
# CONTACT FORM (Phase 12)
# ============================================
CONTACT_REQUIRE_SUBJECT="false"        # Make subject field required
CONTACT_REQUIRE_PHONE="false"          # Make phone field required
CONTACT_SEND_CONFIRMATION="true"       # Send confirmation email to sender
# CONTACT_WEBHOOK_URL=""               # Webhook URL for CRM (Zapier/Make/n8n)
CONTACT_RATE_LIMIT="5/hour"            # Rate limit per IP
ADMIN_EMAIL=""                         # Admin notification email
